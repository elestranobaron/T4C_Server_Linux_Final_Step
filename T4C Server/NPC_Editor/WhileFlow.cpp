#include "stdafx.h"
#include "WhileFlow.h"

using namespace std;

namespace{
    string AnGetName(){
        return GetAppString( IDS_INST_WHILE );
    }
    string AnGetHelp(){
        return GetAppString( IDS_INST_WHILE_HELP );
    }
};

namespace NPC_Editor
{

WhileFlow::WhileFlow()	: Condition( AnGetName(), AnGetHelp(), InsWhile )
{
}

WhileFlow::~WhileFlow()
{
}
/////////////////////////////////////////////////////////////////////////////
void WhileFlow::SaveImp
/////////////////////////////////////////////////////////////////////////////
// 
//
(
WDAFile &file
)
// Return: WDAFile
/////////////////////////////////////////////////////////////////////////////
{
    Condition::SaveImp( file );	
}
/////////////////////////////////////////////////////////////////////////////
void WhileFlow::LoadImp
/////////////////////////////////////////////////////////////////////////////
// 
//
(
WDAFile &file
)
// Return: WDAFile
/////////////////////////////////////////////////////////////////////////////
{
    Condition::LoadImp( file );	
}

Instruction *WhileFlow::Clone(){ 
    WhileFlow *wf = new WhileFlow;
    
    wf->Copy( this );
    
    return wf; 
};

//////////////////////////////////////////////////////////////////////////////////////////
void WhileFlow::UpdateName( void )
//////////////////////////////////////////////////////////////////////////////////////////
// Update the name.
// 
//////////////////////////////////////////////////////////////////////////////////////////
{
    Condition::UpdateName( AnGetName() );
}

//////////////////////////////////////////////////////////////////////////////////////////
void WhileFlow::SetCondition
//////////////////////////////////////////////////////////////////////////////////////////
// Sets the condition and updates the name
// 
(
 const std::string &thecondition // The expression.
)
// Return: virtual, 
//////////////////////////////////////////////////////////////////////////////////////////
{
    Condition::SetCondition( thecondition );

    UpdateName();
}


} // NPC_Editor

