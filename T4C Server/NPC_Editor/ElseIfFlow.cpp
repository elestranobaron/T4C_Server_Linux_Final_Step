#include "stdafx.h"
#include "ElseIfFlow.h"

using namespace std;

namespace{
    string AnGetName(){
        return GetAppString( IDS_INST_ELSEIF );
    }
    string AnGetHelp(){
        return GetAppString( IDS_INST_ELSEIF_HELP );
    }
};


namespace NPC_Editor
{

ElseIfFlow::ElseIfFlow() :
    Condition( AnGetName(), AnGetHelp(), InsElseIf)
{
}

ElseIfFlow::~ElseIfFlow()
{
}
/////////////////////////////////////////////////////////////////////////////
void ElseIfFlow::SaveImp
/////////////////////////////////////////////////////////////////////////////
// 
//
(
WDAFile &file
)
// Return: WDAFile
/////////////////////////////////////////////////////////////////////////////
{
    Condition::SaveImp( file );	
}
/////////////////////////////////////////////////////////////////////////////
void ElseIfFlow::LoadImp
/////////////////////////////////////////////////////////////////////////////
// 
//
(
WDAFile &file
)
// Return: WDAFile
/////////////////////////////////////////////////////////////////////////////
{
    Condition::LoadImp( file );	
}

//////////////////////////////////////////////////////////////////////////////////////////
Instruction *ElseIfFlow::Clone( void )
//////////////////////////////////////////////////////////////////////////////////////////
{
    ElseIfFlow *eif = new ElseIfFlow;
    eif->Copy( this );
    return eif;
}

//////////////////////////////////////////////////////////////////////////////////////////
void ElseIfFlow::SetCondition
//////////////////////////////////////////////////////////////////////////////////////////
// Sets the condition and updates the name
// 
(
 const std::string &thecondition // The expression.
)
// Return: virtual, 
//////////////////////////////////////////////////////////////////////////////////////////
{
    Condition::SetCondition( thecondition );

    UpdateName();
}

//////////////////////////////////////////////////////////////////////////////////////////
void ElseIfFlow::UpdateName( void )
//////////////////////////////////////////////////////////////////////////////////////////
// Update the name.
// 
//////////////////////////////////////////////////////////////////////////////////////////
{
    Condition::UpdateName( AnGetName() );
}

} // NPC_Editor

